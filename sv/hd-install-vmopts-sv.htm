<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<title>aptosid Manuals - VM Installation Options</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<style type="text/css" media="all">@import url("../lib/css-js/content.css");</style>
        <style type="text/css" media="all">@import url("../lib/css-js/menu.css");</style>
        <style type="text/css" media="print">@import url("../lib/css-js/print.css");</style>
        <link rel ="shortcut icon" href="../lib/favicon/manual.ico" />
        <script type="text/javascript" src="../lib/css-js/menu2.js"></script>
        <!--[if lt IE 8]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-7_override.css">
        <![endif]-->
        <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" href="../lib/css-js/ie_5-6_override.css">
        <![endif]-->
</head>
<body>
<!-- Last translation revision by bluewater 22/04/2009 1350hrs UTC -->
<div id="menu"> <!-- menu starts here en lang maintained by bluewater-->
<!--aptosid Operating System Manual menu-version-02.09.2010.11.03 -->
<!-- menu last updated by bluewater 2010.11.03 1130 hrs UTC -->
	<div id="menu-header">
	      <a href="http://aptosid.com/"><img src="../lib/logos/manual-aptosid-logo.png" title="To aptosid.com forums and wiki" alt="aptosid.com logo" /></a>
	</div>
	<ul id="top-list">
		<li><a href="manual-search-sv.htm#search-on"> <img src="../lib/logos/manual-search-22x22.png" title="Search Manual" alt="Search" />Search online - offline</a> </li>
	</ul>
	<div id="flags-2">
			<a href="../flag-index.html"><img src="../lib/logos/aptosid-lang-100x64.png" title="Choose another language DE, EN" alt="lang-switch" /></a>
	</div>
	<ul>
<li onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-sv.htm">aptosid OS Manual</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-sv.htm#welcome-gen">aptosid OS Manual &#8658;</a>
					<ul class="sub2-menu" id="sm1a">
					  <li><a href="credits-sv.htm#cred-team">Credits</a></li>
					</ul>
					</li>
		<li><a href="welcome-sv.htm#how-to">Hur du använder manualen&#8658;</a>
					<ul class="sub2-menu" id="sm1b">
					  <li><a href="welcome-sv.htm#how-to">Hur du använder manualen</a></li>
					  <li><a href="welcome-sv.htm#table-contents">Innehållsförteckning</a></li>
					</ul>
					</li>
		<li><a href="help-sv.htm#help-gen">Få hjälp &#8658;</a>
					<ul class="sub2-menu" id="sm1c">
					  <li><a href="help-sv.htm#help-gen">Var och hur du kan få hjälp</a></li>
					  <li><a href="help-sv.htm#paste">IRC !paste</a></li>
					</ul>
					</li>
		<li><a href="wel-quickstart-sv.htm#welcome-quick">aptosid Quick Start Guide</a></li>
		</ul>
		</li>
<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-dl-burning-sv.htm">ISO innehåll, Releases, Nedladdningsspeglar och Bränning</a>
			   <ul class="sub-menu" id="sm2">
				<li><a href="cd-content-sv.htm#cd-content">ISO innehåll och systemkrav &#8658;</a>
					<ul class="sub2-menu" id="sm2a">
					  <li><a href="sys-admin-release-sv.htm#rolling">Release Notes</a></li>
					</ul>
					</li>
		    <li><a href="cd-dl-burning-sv.htm#download-aptosid">aptosid Speglar, Nedladdning och Bränning &#8658;</a>
				<ul class="sub2-menu" id="sm2b">
					  <li><a href="cd-dl-burning-sv.htm#md5">md5 Checksum</a></li>
					  <li><a href="cd-dl-burning-sv.htm#burn-nero">Bränna i Windows</a></li>
					  <li><a href="cd-dl-burning-sv.htm#burn-linux">Bränna i Linux</a></li>
					  <li><a href="cd-no-gui-burn-sv.htm#burning-no-gui">burniso skript</a></li>
					  <li><a href="cd-no-gui-burn-sv.htm#burn-no-gui-gen">Bränna utan ett GUI</a></li>
					  <li><a href="cd-dl-burning-sv.htm#download-aptosid">aptosid Nedladdningsspeglar</a></li>
					</ul>
					</li>
		      </ul>
		</li>
<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="live-mode-sv.htm">Live Mode</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="live-mode-sv.htm#rootpw">Root-lösen på aptosid-Live ISO</a></li>
				<li><a href="live-mode-sv.htm#live-cd-installsoft">Installera program från en Live-ISO</a></li>
			</ul>
		</li>
<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="term-konsole-sv.htm">Terminalen / Konsollen</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="term-konsole-sv.htm#term-kon"> Terminalen / Konsollen &#8658;</a>
					<ul class="sub2-menu" id="sm4a">
					  <li><a href="term-konsole-sv.htm#term-kon"> Terminalen / Konsollen</a></li>
					  <li><a href="term-konsole-sv.htm#cli-help">Kommando Hjälp</a></li>
					  <li><a href="help-sv.htm#init3-tools">Verktyg att använda i textläge (tty) - init 3</a></li>
					  <li><a href="term-konsole-sv.htm#term-cmds">Linux Terminal kommando Lista</a></li>
					</ul>
					</li>
			  <li><a href="term-konsole-sv.htm#sux"> sux / sudo</a></li>
		    </ul>
		</li>
<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="cheatcodes-sv.htm">CheatCodes</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="cheatcodes-sv.htm#cheatcodes">aptosid specifika Live-ISO Cheatcodes</a></li>
				<li><a href="cheatcodes-sv.htm#cheatcodes-linux">Linux generic Cheatcodes</a></li>
				<li><a href="cheatcodes-vga-sv.htm#vga">VGA Codes</a></li>
			</ul>
		</li>
<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="part-gparted-sv.htm">Partitionera hårddisken - Traditionell och LVM</a>
		    <ul class="sub-menu" id="sm6">
			  <li><a href="part-gparted-sv.htm#ntfs-3g">Skriva på NTFS-partitioner med NTFS-3g</a></li>
			  <li><a href="part-lvm-sv.htm#part-lvm">Partitionering för att använda LVM - Logical Volume Manager</a></li>
			  <li><a href="part-gparted-sv.htm#partition">Partitionering med ett GUI &#8658;</a>
					<ul class="sub2-menu" id="sm6a">
					  <li><a href="part-gparted-sv.htm#partition">Partitionera din HD med hjälp av GParted / KDE Partition Manager</a></li>
					  <li><a href="part-gparted-sv.htm#ntfs">NTFS partitionsstorleksändring med hjälp av GParted / KDE Partition Manager</a></li>
					</ul>
					</li>
		<li><a href="part-cfdisk-sv.htm#partition">Partitionering med CLI &#8658;</a>
					 <ul class="sub2-menu" id="sm6b">
					    <li><a href="part-cfdisk-sv.htm#partition">Partitionera din HD med cfdisk</a></li>
					    <li><a href="part-cfdisk-sv.htm#formating">Formattering efter partitionering med cfdisk</a></li>
					</ul>
					</li>
		<li><a href="part-size-examp-sv.htm#part-example">Partitionering Grundläggande &#8658;</a>
					<ul class="sub2-menu" id="sm6c">
					  <li><a href="part-size-examp-sv.htm#part-example">Partitionsstorleks Exempel</a></li>
					  <li><a href="part-uuid-sv.htm#uuid">UUID, Partitionsmärkning och fstab</a></li>
					  <li><a href="part-cfdisk-sv.htm#disknames">Disk Namngivning i korthet</a></li>
					</ul>
					</li>
		      </ul>
		</li>
<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="hd-install-sv.htm">Installations val - HD, USB, VM och Cryptroot</a>
		<ul class="sub-menu" id="sm7">
		  <li><a href="hd-install-sv.htm#Inst-prep">Installationsförberedelser &#8658;</a>
					<ul class="sub2-menu" id="sm7a">
					  <li><a href="hd-install-sv.htm#Inst-prep">Installationsförberedelser </a></li>
					  <li><a href="hd-install-sv.htm#Installation">Installera till din HD</a></li>
					  <li><a href="hd-install-sv.htm#first-hd-boot">Första uppstarten</a></li>
					</ul>
					</li>
		<li><a href="hd-install-opts-sv.htm#fromiso">Uppstart från iso &#8658;</a>
					<ul class="sub2-menu" id="sm7b">
					  <li><a href="hd-install-opts-sv.htm#fromiso">Uppstart från iso - Översikt</a></li>
					  <li><a href="hd-install-opts-sv.htm#fromiso-grub-leg">Uppstart 'fråniso' med grub-legacy</a></li>
					  <li><a href="hd-install-opts-sv.htm#grub2-fromiso">Uppstart 'fråniso' med Grub 2</a></li>
					  <li><a href="hd-install-opts-sv.htm#fromiso-persist">fråniso och persist</a></li>
					</ul>
					</li>
		<li><a href="hd-install-opts-sv.htm#usb-hd">Installera på USB-enheter &#8658;</a>
					<ul class="sub2-menu" id="sm7c">
					  <li><a href="hd-install-opts-sv.htm#usb-hd">Installera på en USB-HD - aptosid specifik - aptosid-on-stick</a></li>
					  <li><a href="hd-ins-opts-oos-sv.htm#raw-usb">Skriva aptosid till en USB/SSD stick med Linux, MS Windows eller Mac OS X system</a></li>
					</ul>
					</li>
		  <li><a href="hd-install-crypt-sv.htm#install-crypt">Installera till krypterade partitioner - cryptroot</a></li>
		  <li><a href="nbdboot-sv.htm#nbd1">Starta aptosid över ett nätverk</a></li>
		  <li><a href="hd-install-vmopts-sv.htm#vmopts">Virtual Machine installations val</a></li>
		</ul>
		</li>
<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="hw-dev-hw-dri-sv.htm">Grafikkort, Skärmar, Xorg &amp; Blandade drivrutiner</a>
	<ul class="sub-menu" id="sm8">
		<li><a href="hw-dev-mon-sv.htm#mon-res">Skärmupplösning och Skärmar  &#8658;</a>
					<ul class="sub2-menu" id="sm8a">
					  <li><a href="hw-dev-mon-sv.htm#mon-res">Skärmupplösning och Skärmar</a></li>
					  <li><a href="hw-dev-mon-sv.htm#xrandr">Dubbla Skärmar och xrandr</a></li>
					  <li><a href="hw-dev-mon-sv.htm#mon-binary">Dubbla Skärmar (med hjälp av binärer)</a></li>
					</ul>
					</li>
		<li><a href="hw-dev-hw-dri-sv.htm#non-free-3d">Grafikkort proprietära drivrutiner &#8658;</a>
					<ul class="sub2-menu" id="sm8b">
					  <li><a href="hw-dev-hw-dri-sv.htm#non-free-3d">Binära, ofria drivrutiner för Nvidia &amp; xorg.conf</a></li>
					  <li><a href="hw-dev-hw-dri-sv.htm#non-free-3d-2">ofria drivrutiner för ATI, Radeon och andra</a></li>
					</ul>
					</li>
			  <li><a href="hw-dev-hw-dri-sv.htm#non-free-firmware">Hårdvara som behöver icke-fria firmware drivrutiner</a></li>
			  <li><a href="hw-dev-hw-dri-sv.htm#non-free">Lägga till ofria till Sources List</a></li>
			  <li><a href="hw-dev-hw-dri-sv.htm#native-nv-ati">FOSS xorg drivrutiner för nVidia, ATI, Radeon, Intel &amp; xorg.conf</a></li>
		</ul>
		</li>
<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="wm-kde-sv.htm#install-add">Fönsterhanterare</a>
		    <ul class="sub-menu" id="sm9">
			  <li><a href="wm-kde-sv.htm">Fönsterhanterare&#8658;</a>
					  <ul class="sub2-menu" id="sm9a">
					    <li><a href="wm-xfce-sv.htm#xfce-notes">Användbara Xfce extras</a></li>
					    <li><a href="wm-kde-sv.htm#install-add">Användbara extra KDE Apps</a></li>
					    <li><a href="wm-kde-sv.htm#desk-freeze">Skrivbordet Fryser</a></li>
					    <li><a href="wm-kde-sv.htm#kde-login">Kan inte logga in i KDE</a></li>
					    <li><a href="wm-kde-sv.htm#ch-th">Ändra Teman</a></li>
					</ul>
					</li>
		      <li><a href="wm-kde-sv.htm#dm">Display Managers - dm</a></li>
		</ul>
		</li>
<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="internet-connecting-sv.htm">Internet anslutning, WiFi, LAN och nätverk</a>
		    <ul class="sub-menu" id="sm11">
			<li><a href="lamp-apache-sv.htm">aptosid LAMP Stack &#8658;</a>
					<ul class="sub2-menu" id="sm11a">
					    <li><a href="lamp-apache-sv.htm#serv-apache">aptosid LAMP Stack</a></li>
					    <li><a href="lamp-apache-sv.htm#serv-ftp">FTP Klienter</a></li>
					    <li><a href="lamp-apache-sv.htm#serv-sec">Säkerhetsprotokoll</a></li>
					    <li><a href="lamp-apache-sv.htm#serv-ssl">SSL</a></li>
					    <li><a href="lamp-sql-sv.htm#serv-mysql">MySQL Setup</a></li>
					    <li><a href="lamp-ppp-sv.htm#serv-php">PHP i Apache</a></li>
					    <li><a href="ntp-server-sv.htm#ntp-server">Timeserver Installation</a></li>
					</ul>
					</li>
		<li><a href="tor-privoxy-sv.htm#privoxy">Brandväggar och Anonymitet &#8658;</a>
					<ul class="sub2-menu" id="sm11b">
					    <li><a href="tor-privoxy-sv.htm#tor">Tor</a></li>
					    <li><a href="tor-privoxy-sv.htm#privoxy">Privoxy</a></li>
					    <li><a href="internet-connecting-sv.htm#firewalls">Brandväggar</a></li>
					</ul>
					</li>
		<li><a href="ssh-sv.htm#ssh-x">SSH och Samba &#8658;</a>
					<ul class="sub2-menu" id="sm11c">
						  <li><a href="samba-sv.htm#setup">Samba-Server Installation</a></li>
						  <li><a href="samba-sv.htm#configure">Konfigurera SAMBA (Windows)</a></li>
						  <li><a href="ssh-sv.htm#ssh-fs">SSH Remote Mounting</a></li>
						  <li><a href="ssh-sv.htm#ssh-x">X Window Apps via SSH</a></li>
						  <li><a href="ssh-sv.htm#ssh-f">GUI SSH med Konqueror</a></li>
						  <li><a href="ssh-sv.htm#ssh-w">SSH X-Forwarding från en Windows-PC</a></li>
						  <li><a href="ssh-sv.htm#ssh">SSH och Säkerhet</a></li>
					</ul>
					</li>
		<li><a href="internet-connecting-sv.htm#netcardconfig">WIFI anslutningar &#8658;</a>
						<ul class="sub2-menu" id="sm11d">
						    <li><a href="internet-connecting-sv.htm#netcardconfig">Komma Online - Ceni</a></li>
						    <li><a href="inet-wpagui-sv.htm#wpa-roaming-gui">WiFi - WPA_GUI</a></li>
						    <li><a href="inet-setup-sv.htm#net-set1">WiFi - Inställning för WiFi roaming</a></li>
						    <li><a href="internet-connecting-wpa-sv.htm#wpa">WiFi - wpasupplicant</a></li>
						    <li><a href="inet-ifplug-sv.htm#hotswitch">Nätverks växling mellan WiFi och kabel</a></li>
					</ul>
					</li>
		<li><a href="internet-connecting-sv.htm#netcardconfig">Kabelanslutningar&#8658;</a>
						<ul class="sub2-menu" id="sm11e">
						    <li><a href="internet-connecting-sv.htm#dial-mod">56k Modem</a></li>
						    <li><a href="internet-connecting-sv.htm#netcardconfig">Komma Online - Ceni</a></li>
					</ul>
					</li>
				</ul>
			    </li>
<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="sys-admin-apt-sv.htm">Pakethantering och dist-upgrade</a>
	    <ul class="sub-menu" id="sm12">
		  <li><a href="sys-admin-apt-sv.htm#apt-cook">APT Cookbook och Sources list &#8658;</a>
					<ul class="sub2-menu" id="sm12a">
					    <li><a href="sys-admin-apt-sv.htm#apt-cook">APT-Guide Cookbook och Sources list</a></li>
					    <li><a href="sys-admin-apt-sv.htm#apt-install">Installera ett nytt paket</a></li>
					    <li><a href="sys-admin-apt-sv.htm#apt-delete">Ta bort ett paket</a></li>
					    <li><a href="sys-admin-apt-sv.htm#apt-downgrade">Behålla paket och nedgradering</a></li>
					    <li><a href="sys-admin-apt-sv.htm#apt-cache">Paketsökning med apt-cache</a></li>
					    <li><a href="sys-admin-apt-sv.htm#gui-pacsea">GUI Paketsökning</a></li>
					</ul>
				</li>
		<li><a href="sys-admin-kern-upg-sv.htm#kern-upgrade">Uppgradera Kärnan &#8658;</a>
					<ul class="sub2-menu" id="sm12b">
					    <li><a href="sys-admin-kern-upg-sv.htm#kern-remove">Ta bort Kärnor</a></li>
					    <li><a href="sys-admin-kern-upg-sv.htm#kern-upgrade">Uppgradera Kärnan</a></li>
					    <li><a href="sys-admin-kern-upg-sv.htm#dmakms">Installera kärnmoduler dynamiskt med dmakms</a></li>
					</ul>
				</li>
		<li><a href="sys-admin-apt-sv.htm#apt-upgrade">Uppgradera ett installerat system - dist-upgrade - Översikt &#8658;</a>
					<ul class="sub2-menu" id="sm12c">
					    <li><a href="sys-admin-upgrade-sv.htm#live-cd-upgrade">Uppgradera via Live-ISO</a></li>
					    <li><a href="sys-admin-apt-locarmirr-sv.htm#approx">dist-upgrade av flera PCs i ett LAN</a></li>
					    <li><a href="sys-admin-apt-sv.htm#apt-upgrade">Uppgradera ett installerat system - dist-upgrade - Översikt</a></li>
					    <li><a href="sys-admin-apt-sv.htm#du-st">Uppgradera ett installerat system - dist-upgrade - Stegen</a></li>
					</ul>
				  </li>
			    </ul>
		</li>
<li  onmouseover="showHide( 13 );" onmouseout="startTime();" ><a href="sys-admin-gen-sv.htm">System Administration</a>
	<ul class="sub-menu" id="sm13">
		<li><a href="bios-freedos-sv.htm#bois-prep">Uppgradera BIOS med FreeDOS</a></li>
		<li><a href="vir-rkits-sv.htm#virus-rkits">Virus och Rootkit Scanners</a></li>
		<li><a href="hd-install-sv.htm#adduser">Lägga till Användare och Lösenord &#8658;</a>
					<ul class="sub2-menu" id="sm13a">
					    <li><a href="hd-install-sv.htm#adduser">Lägga till en ny Användare</a></li>
					    <li><a href="sys-admin-gen-sv.htm#pw-lost">Borttappat root lösenord, nya lösenord</a></li>
					</ul>
					</li>
		<li><a href="sys-admin-gen-sv.htm#start-services">Tjänster och init runlevels &#8658;</a>
					<ul class="sub2-menu" id="sm13b">
					    <li><a href="sys-admin-gen-sv.htm#start-services">Tjänster aktivera / avaktivera</a></li>
					    <li><a href="sys-admin-gen-sv.htm#init">aptosid runlevels - init</a></li>
					</ul>
					</li>
		<li><a href="sys-admin-rsync-sv.htm#rsync">Säkerhetskopiera systemet &#8658;</a>
					  <ul class="sub2-menu" id="sm13c">
					    <li><a href="sys-admin-rdiff-sv.htm#rdiff">Säkerhetskopiera med rdiff</a></li>
					    <li><a href="sys-admin-rsync-sv.htm#rsync">Säkerhetskopiera med rsync</a></li>
					    <li><a href="home-sv.htm#home-bu">Flytta /home</a></li>
					</ul>
					</li>
		<li><a href="sys-admin-gen-sv.htm#fonts">CUPS, Fonter och Ljud &#8658;</a>
					  <ul class="sub2-menu" id="sm13d">
					     <li><a href="sys-admin-gen-sv.htm#fonts">Fonts</a></li>
					     <li><a href="sys-admin-gen-sv.htm#cups">CUPS - Utskriftssystem</a></li>
					     <li><a href="sys-admin-gen-sv.htm#sound">Ljudmixer</a></li>
					</ul>
					</li>
		<li><a href="sys-admin-grub2-sv.htm#grub2">Grub2 &#8658;</a>
					  <ul class="sub2-menu" id="sm13f">
					    <li><a href="sys-admin-grub2-sv.htm#chroot">Grub2 - Återställa Grub med chroot</a></li>
					    <li><a href="sys-admin-grub2-sv.htm#mbr-over-grub2">Grub2 - MBR Överskriven</a></li>
					    <li><a href="sys-admin-grub2-sv.htm#multi-os">Grub2 - Dubbel och Flervalsstart</a></li>
					    <li><a href="sys-admin-grub2-sv.htm#grub1-grub2">Grub2 -Uppgradera från Grub1</a></li>
					    <li><a href="sys-admin-grub2-sv.htm#grub2">Grub2 - Översikt</a></li>
					</ul>
					</li>
			</ul>
		</li>
	</ul>
<!-- menu ends here --> </div>
<div id="main-page">
		<div class="divider" id="vmopts">
				<h2 id="top-header">Virtual Machine options</h2>

						<ul>
							<li><a href="hd-install-vmopts-sv.htm#kvm">KVM for Intel VT or AMD-V</a></li>
							<li><a href="hd-install-vmopts-sv.htm#vbox">Virtualbox</a></li>
							<li><a href="hd-install-vmopts-sv.htm#qemu">QEMU</a></li>
							<li><a href="hd-install-vmopts-sv.htm#oos">Installing other distributions to an image</a></li>
						</ul>

							<p><span class="highlight-3">The following examples use aptosid, simply substitute aptosid with the distribution of your choice.</span></p>
	</div>
	<div class="divider" id="oos">
			    <h2>Installing other distributions to a VM image</h2>
							<p>Note: If and when you wish to install to a virtual machine image, most Linux distributions will probably only need an allocation of 12G. However if you have a requirement to have MS Windows in a virtual machine, you will need to allocate about a 30G, or more, to the image. All image allocation sizes ultimately depend on your requirements. </p>

							<p>Generally, an image allocation size, will not take up additional hard drive space until data is installed. Even then, it will only take space dynamically on a hard drive, contingent to the actual amount of data that expands on the image. This is due to the compression ratios of qcow2.</p>

		      </div>
		      <div class="divider" id="kvm">
				<h2>Enabling a KVM Virtual Machine</h2>
							<p>KVM is a full virtualisation solution for Linux running on x86 CPU with virtualisation extensions (Intel VT or AMD-V).</p>

				      <h3>Prerequisites</h3>

							<p>To ascertain whether your hardware supports KVM, ensure that KVM is enabled in the BIOS, (in some cases on an Intel VT or AMD-V system it may not evident as to where the switch is, therefore assume that it is in a KVM state). The way to check is in a console run:</p>
<pre>
cat /proc/cpuinfo | egrep --color=always 'vmx|svm'
</pre>
							<p>If you see <span class="highlight-3">svm</span> or <span class="highlight-3">vmx</span> in the cpu flags field, your system supports KVM. (Otherwise go back to the BIOS if you believe it is supported and check again, else search the internet as to where in the BIOS menus KVM 'enable' could be hiding).</p>

							<p>Should your BIOS not support KVM refer to <a href="hd-install-vmopts-en.htm#vbox">Virtualbox</a>
							 or <a href="hd-install-vmopts-en.htm#qemu">QEMU</a></p>

							<p>To install and run KVM, firstly ensure that Virtualbox modules are not loaded, (--purge them is the best option), then depending on your chipset:</p>

							<p>For <span class="highlight-3">vmx</span>:</p>
<pre>
apt-get install qemu-kvm qemu-utils
modprobe kvm-intel
</pre>
							<p>For <span class="highlight-3">svm</span>:</p>
<pre>
apt-get install qemu-kvm qemu-utils
modprobe kvm-amd
</pre>
							 <p>When you start your system the qemu-kvm initscripts will take care of loading the modules.</p>

					  <h4>Using KVM to boot an aptosid-*.iso</h4> 

							<p><span class="highlight-2">As user:</span></p> 

							<p><span class="highlight-2">For 64 bit as user:</span></p>
<pre>
$ QEMU_AUDIO_DRV=alsa qemu-system-x86_64 -machine accel=kvm:tcg -net nic,model=virtio -net user -soundhw all -m 1024 -monitor stdio -cdrom &lt;aptosid.iso&gt;
</pre>

							<p><span class="highlight-2">For 32 bit replace </span> qemu-system-x86_64 <span class="highlight-2">with</span> qemu-system-i386.</p>


				<h5>Installing  aptosid to a KVM image</h5>
							<p>First create a hard disk image, (this image will be minimal and only grow as required due to qcow2 compression ratios):</p>
<pre>
$ qemu-img create -f qcow2 aptosid-VM.img 12G
</pre>

							<p>Boot the aptosid-*.iso with the following parameters to enable KVM to recognise that there is an QEMU hard disk image available:</p>

<pre>
$ QEMU_AUDIO_DRV=alsa qemu-system-x86_64 -machine accel=kvm:tcg -net nic,model=virtio -net user -soundhw all -m 1024 -monitor stdio -cdrom &lt;/path/to/aptosid-*.iso&gt; -boot d &lt;/path/to/aptosid-VM.img&gt;
</pre>

							<p><span class="highlight-2">For 32 bit replace </span> qemu-system-x86_64 <span class="highlight-2">with</span> qemu-system-i386.</p>

							<p>Once the cdrom has booted up click on the aptosid installer icon to activate the installer, (or use the menu), click on the Partitioning tab and launch the partition application you prefer. For the partitioning you can follow the instructions from <a href="part-gparted-en.htm">Partitioning the Hard Drive - Traditional, GPT and LVM</a>  (do not forget to add a swap partition If you are short of memory). Please be aware that formatting will take time so be patient.</p>

<div class="screenshot"><img src="../lib/images-common/images-vm/kvm-gparted02.png" title="gparted kvm hard disk naming" alt="gparted kvm hard disk naming" /></div>
	<div class="spacer02"></div>

							<p>You now have a VM ready for use:</p>

<pre>
$ QEMU_AUDIO_DRV=alsa qemu-system-x86_64 -machine accel=kvm:tcg -net nic,model=virtio -net user -soundhw all -m 1024 -monitor stdio -drive if=virtio,boot=on,file=&lt;path/to/aptosid-VM.img&gt; 
</pre>

							<p>Some guests do not support virtio, therefore you need to use other options when launching KVM, for example:</p>
<pre>
$ QEMU_AUDIO_DRV=alsa qemu-system-x86_64 -machine accel=kvm:tcg -net nic, -net user -soundhw all -m 1024 -monitor stdio -hda &lt;/path/to/your_guest.img &gt; -cdrom your_other.iso -boot d 
</pre>

							  <p>or</p>
<pre>
$ QEMU_AUDIO_DRV=alsa qemu-system-x86_64 -machine accel=kvm:tcg -net nic, -net user -soundhw all -m 1024 -monitor stdio -hda &lt;/path/to/your_guest.img&gt; 
</pre>
							<p>See also: <a href="http://www.linux-kvm.org/page/Main_Page"> KVM documentation</a>.</p>

				<h5>Managing your KVM virtual machine installations</h5>
<pre>
apt-get install aqemu
</pre>
							<p>When using AQEMU ensure that you choose the KVM mode from the drop down box for 'Emulator Type' in the 'General' tab. (Documentation for AQEMU is basically non existent, therefore a few 'trials by error' will be required to figure out the easy to use GUI, however a good start is to use first use the 'VM' menu followed by the 'General' tab).</p>

	</div>
	<div class="divider" id="vbox">
		<h2>Booting and installing to a VirtualBox Virtual Machine</h2>
							<p>The Steps:</p>
						<ul>
 							<li>1. Skapa en h&aring;rddiskavbild f&ouml;r VirtualBox</li>
 							<li>2. Starta ISO:n med VirtualBox</li>
 							<li>3. Installera på h&aring;rddiskavbilden</li>
						</ul>

				<h4>Krav</h4>
							<p><span class="highlight-3">Rekommenderat ram-minne: 1 gb </span>: 512 MB f&ouml;r g&auml;stoperativet och 512 MB f&ouml;r v&auml;rden. (Du kan k&ouml;ra med mindre men r&auml;kna med s&auml;mre prestanda.)</p>

							<p><span class="highlight-3">H&aring;rddiskutrymme:</span> &auml;ven om VirtualBox &auml;r litet (En normal installation beh&ouml;ver endast ca 30MB h&aring;rddiskutrymme), kr&auml;ver de virtuella maskinerna m&aring;nga g&aring;nger mer. Filen d&auml;r t.ex en Windows XP (TM)-installation ligger, kan med l&auml;tthet v&auml;xa till flera GB. F&ouml;r att k&ouml;ra aptosid i VirtualBox kr&auml;vs en virtuell disk p&aring; ca 5gb plus swap-utrymme.</p>

				<h3>Installation:</h3>

<pre>
apt-get update
apt-get install virtualbox-ose-qt virtualbox-source dmakms module-assistant
</pre>
							<p>Then prepare the module:</p>
<pre>
m-a prepare
m-a a-i virtualbox-source
</pre>
							<p>Then activate Dynamic Module-Assistant Kernel Module Support for virtualbox, so that the next time the Linux kernel is updated a virtualbox module is prepared for it too, without manual intervention. To do that, add <span class="highlight-3">virtualbox-source</span> to the <span class="highlight-3">/etc/default/dmakms </span>configuration file. </p>
<pre>
mcedit /etc/default/dmakms
virtualbox-source
</pre>

							<p>Then reboot the computer.</p>

							<p><a href="sys-admin-kern-upg-sv.htm#dmakms">This is essential reading on dmakms</a></p>

					<h3>Installera aptosid till den virtuella maskinen</h3>
							<p>Anv&auml;nd virtualbox guide f&ouml;r att skapa en virtuell masking &aring;t aptosid. F&ouml;lj sedan instruktionerna f&ouml;r en vanlig aptosid-installation.</p>

							<p><a href="http://www.virtualbox.org/">VirtualBox har en utf&ouml;rlig PDF-hj&auml;lp som du kan ladda ner.</a> </p>

	</div>
	<div class="divider" id="qemu">
		<h2>>Booting and installing a QEMU Virtual Machine</h2>

		<ul>
 			<li>1. Skapa en h&aring;rddiskavbild &aring;t QEMU</li>
 			<li>2. Starta ISO:n med QEMU</li>
 			<li>3. Installera på h&aring;rddiskavbilden</li>

		</ul>

							<p>A QT GUI tool is available to help you configure QEMU:</p>
<pre>
apt-get install qtemu
</pre>

 				<h4>Skapa h&aring;rddiskavbilden</h4>

				<p>F&ouml;r att k&ouml;ra qemu beh&ouml;ver du troligtvis en h&aring;rddiskavbild. Detta &auml;r en fil som sparar inneh&aring;llet fr&aring;n den emulerade h&aring;rddiskavbilden.</p>

				<p>Anv&auml;nd kommandot:</p>
<pre>
qemu-img create -f qcow aptosid.qcow 3G
</pre>
				<p>F&ouml;r att skapa avbilden med namnet "aptosid.qcow". "3G"-parametern avser diskstorleken - i detta fallet 3 GB. Du kan anv&auml;nda dig av suffixet M for megabytes (till exempel "256M"). Du beh&ouml;ver inte oroa dig allt f&ouml;r mycket &ouml;ver h&aring;rddiskstorleken - qcow-formatet komprimerar avbilden s&aring; att det lediga utrymmet inte anv&auml;nder verkligt h&aring;rddiskutrymme.</p>


			<h4>Installera operativsystemet</h4>

				<p>Detta &auml;r f&ouml;rsta g&aring;ngen du beh&ouml;ver starta emulatorn. <span class="highlight-3">En sak att komma ih&aring;g: N&auml;r du klickar inne i qemu-f&ouml;nstret f&aring;ngas muspekaren. F&ouml;r att sl&auml;ppa den trycker du: </span></p>
<pre>
Ctrl+Alt
</pre>

				<p>Om du beh&ouml;ver anv&auml;nda en startdiskett k&ouml;r du qemu med:</p>
<pre>
qemu -floppy aptosid.iso -net nic -net user -m 512 -boot d aptosid.qcow
</pre>
				<p>Om din CD-ROM &auml;r startbar k&ouml;r du Qemu med:</p>
<pre>
qemu -cdrom aptosid.iso -net nic -net user -m 512 -boot d aptosid.qcow
</pre>
				<p>Installera aptosid som om det vore till en riktigt h&aring;rddisk.</p>


			<h4>Att k&ouml;ra systemet</h4>

				<p>F&ouml;r att k&ouml;ra systemet skriver du:</p>
<pre>
qemu [hd_image]
</pre>
				<p>En bra idé &auml;r att anv&auml;nda "overlay"-avbilder. P&aring; detta s&auml;tt kan du skapa h&aring;rddiskavbilder en g&aring;ng och be qemu att skapa f&ouml;r&auml;ndringar i en separat fil. Du undviker all instabilitet eftersom det &auml;r s&aring; enkelt att &aring;terg&aring; till f&ouml;reg&aring;ende maskintillst&aring;nd.</p>

				<p>F&ouml;r att skapa en "overlay"-avbild skriv:</p>
<pre>
qemu-img create -b [[base''image]] -f qcow [[overlay''image]]
</pre>
				<p>Byt ut base_image mot din h&aring;rddiskavbild (I v&aring;rt fall &auml;r det aptosid.qcow). Efter detta k&ouml;r du qemu med:</p>
<pre>
qemu [overlay_image]
</pre>
				<p>Den ursprungliga avbilden kommer att l&auml;mnas or&ouml;rd. En hake &auml;r dock att h&aring;rddiskavbilden inte f&aring;r byta namn eller flyttas d&aring; "overlay" minns avbildens fulla s&ouml;kv&auml;g.</p>


			<h4>Anv&auml;ndning av en verklig partition som enkel prim&auml;rpartitionUsing any real partition as the single primary partition of a hard disk image</h4>

				<p>I vissa fall kanske du vill anv&auml;nda en av ditt systems partitioner inifr&aring;n wemu (Till exempel, om du &ouml;nskar att starta din riktiga maskin eller qemu genom att anv&auml;nda en given partition som root.) Detta kan du g&ouml;ra genom att anv&auml;nda mjukvaru-RAID i "linear mode" (Du beh&ouml;ver linear.ko k&auml;rndrivrutin) och en "loopback"-enhet: Tricket &auml;r att dynamiskt s&auml;tta en MBR som ett prefix till den den verkliga partitionen du &ouml;nskar b&auml;dda in i en qemu-h&aring;rddiskavbild.</p>

				<p>Antag att du har en vanlig avmonterad /dev/sdaN-partition med n&aring;got filsystem som du &ouml;nskar g&ouml;ra till en del av en qemu-h&aring;rddiskavbild. F&ouml;rst skapar du en liten fil som inneh&aring;ller MBR:</p>
<pre>
dd if=/dev/zero of=/path/to/mbr count=32
</pre>
				<p>H&auml;r skapas en 16 KB (32 * 512 bytes) fil. Det &auml;r viktigt att du inte skapar en f&ouml;r liten fil (&auml;ven om MBR endast kr&auml;ver ett 512-byte block), eftersom ju mindre den blir, desto mindre m&aring;ste RAID-enhetens chunk-storlek bli, vilken kan p&aring;verka prestandan negativt. Efter detta st&auml;ller du in en "loopback"-enhet till MBR-filen:</p>
<pre>
losetup -f /path/to/mbr
</pre>
				<p>L&aring;t oss anta att den resulterande enheten &auml;r /dev/loop0 eftersom vi inte tidigare anv&auml;nt oss av andra loopbacks. N&auml;sta steg &auml;r att skapa en "sammansatt" MBR + /dev/sdaN diskavbild d&auml;r vi anv&auml;nder mjukvaru-RAID:</p>
<pre>
 modprobe linear
 mdadm --build --verbose /dev/md0 --chunk=16 --level=linear --raid-devices=2 /dev/loop0 /dev/sdaN
</pre>
				<p>Resultatet blir /dev/md0 och det &auml;r denna som du skall anv&auml;nda som r&aring; qemu-diskavbild (Gl&ouml;m inte att s&auml;tta r&auml;tt r&auml;ttigheter s&aring; att emulatorn har &aring;tkomst.) Den sista (och n&aring;got sv&aring;ra) steget &auml;r att st&auml;lla in diskkonfigurationen (diskgeometri och partitionstabell) s&aring; att den prim&auml;ra partitionens startpunkt i MBR:en matchar /dev/sdaN inne i /dev/md0 (an offset of exactly 16 * 512 = 16384 bytes in this example). G&ouml;r detta med fdisk i v&auml;rddatorn, inte i emulatorn:  Diskavk&auml;nningsrutinen i qemu ger ofta ickeavrundningsbara v&auml;rden (som t.ex 31.5 KB, som i f&ouml;reg&aring;ende avsnitt) som inte kan hanteras av RAID-koden. Skriv f&ouml;ljande fr&aring;n v&auml;rddatorn:</p>
<pre>
 fdisk /dev/md0
</pre>
				<p>S&aring;, skapa en enkel prim&auml;r partition motsvarande till /dev/sdaN och testa dig fram med 's'ector kommandot i 'x'pert-menyn tills dess att den f&ouml;rsta cylindern (d&auml;r den f&ouml;rsta partitionen b&ouml;rjar) matchar MBR-storleken. Till sist, 'w'rite, skriver &auml;ndringarna och du &auml;r klar. Du har nu en partition som du kan montera direkt fr&aring;n v&auml;rddatorn liksom en del av qemu-diskavbilden.:</p>
<pre>
 qemu -hdc /dev/md0 [...]
</pre>
				<p>Du kan sj&auml;lvklart v&auml;lja godtycklig bootloader p&aring; denna diskavbild genom qemu.</p>



			<!--<h4>Anv&auml;nda "QEMU Accelerator Module"</h4>

				<p>Qemu:s utveklare har skapat en valbar k&auml;rnmodul f&ouml;r att accelerera qemu vilket ibland ger prestanda i n&auml;rheten av v&auml;rddatorns. Detta laddas med till&auml;gget</p>
<pre>
major=0
</pre>
				<p>f&ouml;r att automatiseras skapandet av den n&ouml;dv&auml;ndiga /dev/kqemu-enheten. Anv&auml;nd f&ouml;ljande kommando</p>
<pre>
echo "options kqemu major=0" >> /etc/modprobe.conf
</pre>
				<p>Detta modifierar modprobe.conf f&ouml;r att s&auml;kerst&auml;lla att till&auml;gget anv&auml;nds varje g&aring;ng modulen laddas.</p>

<pre>
qemu [...] -kernel-kqemu
</pre>
				<p>Detta aktiverar fullst&auml;ndig virtualisering och &ouml;kar hastigheten avsev&auml;rt.</p>

			<h4>F&ouml;r att aktivera qemu:</h4>
<pre>
qemu -cdrom /tmp/pkg/aptosid-debug.iso -net nic -net user -m 512
</pre>-->
		<p><a href="http://www.nongnu.org/qemu/user-doc.html">Officiell dokumentation fr&aring;n QEMU  </a> </p>
		<p><a href="http://wiki.archlinux.org/index.php/Qemu">Visst material f&ouml;r QEMU i aptosid-manualen &auml;r taget ifr&aring;n denna sidan enligt GNU Free Documentation License 1.2 och &auml;r modifierat f&ouml;r aptosid-manualen</a> </p>


	</div>
	<div id="rev">Page last revised 26/08/2013 0850 UTC</div>

</div>
</body>
</html>
